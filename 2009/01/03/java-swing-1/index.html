<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="author" content="lacti">

	<meta name="description" content="Java Swing을 한다면 1 03 Jan 2009 java Java Swing에 대해 어떻게 GUI를 배워나가는 지에 대한 이야기를 해보고 싶었다. 물론 어느 순서가 바른 순서인지는 나도 모르고, 단지 내가 해온 순서는 이렇다는 이야기를 해보고 싶어서 글을 쓴다. Basic GUI Java Basic GUI는 창을 띄우고 Button을 띄우고, Text를 입력받는 등의 간단한 UI 코딩이다. Model, Editor, Renderer의 개념을 몰라도 괜찮고, NetBeans 같은 도구를 이용하여 보다 쉽게 GUI를 그려나갈 수 있고, 그에 대한 Event Handling으로 간단한 GUI Application을 만들어 나가는 단계이다. with LayoutManager Java Basic GUI with LayoutManager는 사실 단계가 어느 지점이 적합할지는 잘 모르겠는데, 이정도가 적당할 것이라고 생각해서 여기 써본다. Java는 유동적인 Layout을 위해 LayoutManager라는 재미난 개념을 도입했다. 이는 말 그대로 Component들을 배치시켜주는 것이다. GridLayout은 Grid 형식으로 JComponent를 배치시켜주고, FlowLayout은 줄줄이 Component가 나오게..." />

	<meta http-equiv="date" content="Saturday, 03  2009 00:00:00 GMT" />

	<meta name="keywords" content="java,-pub" />

	<meta name="robots" content="INDEX,FOLLOW" />
	<title>Java Swing을 한다면 1</title>
	<link href="http://yui.yahooapis.com/pure/0.5.0/pure-min.css" rel="stylesheet">
	<link href="http://yui.yahooapis.com/pure/0.5.0/grids-responsive-min.css" rel="stylesheet">
	<link href="/css/markdownpad-github.css" rel="stylesheet">
	<link href="/css/syntax.css" rel="stylesheet">
	<link href="/css/blog-post.css" rel="stylesheet">
	<link href="http://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
</head>
<body>
	<div id="head">
		<div class="pure-g">
			<div class="pure-u-1 pure-u-md-1-2">
				<a href="/" title="home"><i class="fa fa-home fa-lg"></i></a>
				<a href="/about/" title="about"><i class="fa fa-male fa-lg"></i></a>
				<a href="/archives/" title="archives"><i class="fa fa-file-text-o fa-lg"></i></a>
				<a href="/tags/" title="tags"><i class="fa fa-tags fa-lg"></i></a>
			</div>
			<div class="pure-u-1 pure-u-md-1-2 text-right">
				<a href="https://github.com/lacti" title="github" rel="nofollow"><i class="fa fa-github fa-lg"></i></a>
				<a href="https://twitter.com/lacti" title="twitter" rel="nofollow"><i class="fa fa-twitter fa-lg"></i></a>
				<a href="http://www.slideshare.net/lactrious/presentations" title="slideshare" rel="nofollow"><i class="fa fa-toggle-right fa-lg"></i></a>
				<a href="http://www.linkedin.com/pub/jaeyoung-choi/99/243/861" title="linkedin" rel="nofollow"><i class="fa fa-linkedin fa-lg"></i></a>
				<a href="https://facebook.com/lactrious" title="facebook" rel="nofollow"><i class="fa fa-facebook fa-lg"></i></a>
				<a href="/atom.xml" title="atom" rel="nofollow"><i class="fa fa-rss fa-lg"></i></a>
			</div>
		</div>
	</div>
	<div class="container">
		<div class="pure-g">
			<div class="pure-u-1">
				<h1 class="page-title">Java Swing을 한다면 1</h1>
				<p class="page-date">03 Jan 2009</p>
				<p class="page-tags">
				
				
					<code class="tag"><a href="/tags/#java">java</a></code>
				
				
				
				
				</p>
				
				<div class="content">
				<p>Java Swing에 대해 어떻게 GUI를 배워나가는 지에 대한 이야기를 해보고 싶었다.<br>
물론 어느 순서가 바른 순서인지는 나도 모르고, 단지 내가 해온 순서는 이렇다는 이야기를 해보고 싶어서 글을 쓴다.</p>

<h3>Basic GUI</h3>

<p>Java Basic GUI는</p>

<ul>
<li>창을 띄우고</li>
<li>Button을 띄우고,</li>
<li>Text를 입력받는 등의</li>
</ul>

<p>간단한 UI 코딩이다.</p>

<ul>
<li>Model, Editor, Renderer의 개념을 몰라도 괜찮고,</li>
<li>NetBeans 같은 도구를 이용하여 보다 쉽게 GUI를 그려나갈 수 있고,</li>
<li>그에 대한 Event Handling으로 간단한 GUI Application을 만들어 나가는 단계이다.</li>
</ul>

<h3>with LayoutManager</h3>

<p>Java Basic GUI with <code>LayoutManager</code>는 사실 단계가 어느 지점이 적합할지는 잘 모르겠는데,
이정도가 적당할 것이라고 생각해서 여기 써본다.</p>

<p>Java는 <strong>유동적인 Layout</strong>을 위해 <code>LayoutManager</code>라는 재미난 개념을 도입했다. 이는 말 그대로 <code>Component</code>들을 배치시켜주는 것이다.</p>

<ul>
<li><code>GridLayout</code>은 Grid 형식으로 <code>JComponent</code>를 배치시켜주고,</li>
<li><code>FlowLayout</code>은 줄줄이 Component가 나오게 해주는 식이다.</li>
</ul>

<p><code>Container</code>에 <code>Component</code>를 추가해놓고, <code>LayoutManager</code>만 바꿈으로써 <code>Component</code>의 배치가 달라지게 되는 것이다.</p>

<p>이는 종래 UI 제작의 모든 <code>Component</code>의 Bound[x, y, width, height]를 지정하던 방식인 <code>NullLayout</code>에 비해 상당히 유동적인 UI 구성이 가능하게 했으며,
무엇보다도 UI를 그리는 도구 없이도 간단한 UI를 만들 수 있을 뿐더러 합으로 복잡한 UI 구성도 가능하게 해주었다.</p>

<p>NetBeans의 <code>GroupLayout</code>의 등장으로 ui designer로 FreeDesign이 가능해졌고, 그 기능으로 많이 개발하는 것도 같다. 하지만 <code>GroupLayout</code>는 도구가 생성하는 코드라서 굉장히 코드가 복잡해진다는 단점이 있다.</p>

<p><code>LayoutManager</code>를 구현하여 자신이 만든 <code>LayoutManager</code>로 Component의 배치를 직접 제어해보는 것도 상당한 도움이 된다. 물론, 빠르게 구현해야 할 때에는 NetBeans로 Design해서 Design 코드를 복사해서 Eclipse로 편집하기는 하지만, 간단한 UI를 설계하거나 배치에 모종의 규칙을 갖는 UI 설계의 경우 기존에 존재하는 Layout 조합만큼 좋은 것은 없다.</p>

<p>특히 Mustang(Java6)의 <code>SpringLayout</code>은 뭔가 재밌어보인다. 하지만 아직 깊에 안 봐서 잘 모르겠다.</p>

<h3>with Advanced Event Handler</h3>

<p>Java는 굉장히 많은 <code>EventHandler</code>를 지원한다.</p>

<p>Event Handling을 한다는 것은 해당 <code>Component</code>에서 발생한 Event에 대해 어떤 일을 수행할 것인지에 대해 코드를 작성하는 것이다.</p>

<ul>
<li>Handler는 Event를 처리하기 위해 기술된 코드 집합, 즉 함수이고,</li>
<li>보통 <code>{EventName}Listener</code>라는 이름 구조를 갖는다.</li>
<li>어떤 Event에 대해서 그 Event를 기다리는 자(<code>Listener</code>)라는 의미로 대부분 Event를 처리하기 위한 함수 원형이 기술된 <code>interface</code>이다.</li>
</ul>

<p>즉, 이걸 구현하면 함수 객체가 되는 것이고, 이것을 해당 Component의 EventHandler로 등록해주는 것이다.</p>

<p>보통 쉽게 접하는 것은 <code>ActionListener</code>, <code>KeyListener</code>, <code>MouseListener</code>, <code>FocusEvent</code> 정도 인데, 이것들 이외에도 <code>ComponentEvent</code>나 <code>HierarchyEvent</code>, <code>AncestorEvent</code>, <code>ContainerEvent</code>, <code>PropertyChangeEvent</code> 등이 있다.</p>

<ul>
<li><code>ComponentEvent</code>는 해당 Component가 나타났나, 사라졌나에 대한 Event 등을 포함하고 있고,</li>
<li><code>ContainerEvent</code>는 자신에게 어떤 다른 <code>JComponent</code>가 추가됬나, 제거됬나 등에 대한 Event가 포함되어있고,</li>
<li><code>AncestorEvent</code>와 <code>HierarchyEvent</code>는 부모 쪽에서 모종의 변경이 일어났을 때에 대한 Event가 포함되어있다.</li>
</ul>

<p>위의 것들은 그냥 그러려니 하면서, 실제로 쓸 일이 없어서 잘 안 쓰는 그런 종류일 수 있다. 하지만 <code>PropertyChangeEvent</code>는 쓸만한, 그리고 재미있는 event이다.</p>

<p><code>Property</code>는 Component의 상태를 표현하기 위해 필요한 정보들로, <code>Visible</code>, <code>Enable</code> 등이 있다. NetBeans에서는 아예 Property라고 해서 Table로 이를 편집할 수 있게 해준다.</p>

<p>보통 <code>set{PropertyName}</code>으로 설정하고, <code>[get|is]{PropertyName}</code>로 가져온다. 즉, 속성을 멤버 변수로 두고, getter/setter로 접근하도록 한다는 것이다. (VB나 C#에서는 Property라는 좀 더 재미난 개념을 제공하지만 별로 OO스럽지 않아서 Java는 지원 안하나 보다. 하지만 개인적 취향은 PHP의 getter가 좋다.)</p>

<p>그럼 이 <code>PropertyChangeEvent</code>를 Listening하면 해당 Component의 속성 변화를 알 수 있다는 것인데, 기껏해야 Visible, Enable 등의 변화를 알 수 있다는 것일까?</p>

<p>Java 진영에서는 <code>JComponent(javax.swing.JComponent)</code> 간의 데이터 교환을 위해서 <code>javax.accessibility.AccessibleContext</code>를 제공하고, 이것은 각 <code>JComponent</code>의 <code>getAccessibleContext()</code> 함수를 통해 얻어올 수 있다.<br>
Java Swing에는 수많은 <code>JComponent</code>가 존재하고, 각 <code>JComponent</code>마다 관리하는 저마다의 값(Model)이 있다.</p>

<ul>
<li><code>JTextField</code>이면 String type의 text를 관리할 것이고,</li>
<li><code>JSlider</code>이면 int 값의 value를 관리할 것이다.</li>
</ul>

<p>이러한 정보들이 각 <code>JComponent</code>마다 천차만별이고 <strong>(심지어 Tree나 Table은 어찌할 것인가!)</strong> 이쯤 되니까 각각의 reference로 접근해서 해당 데이터를 접근하는 것은 쉬워도, 이들을 공통적으로 접근하기는 애매해진 것이다. <del>(사실 나는 그래서 모 코드에서 instanceof 로 모든 <code>JComponent</code> 객체의 type로 분기해서 처리해주는 굉장한 것도 봤다.)</del></p>

<p>그래서 각 <code>JComponent</code>마다 자신의 <code>Context</code>를 반환할 수 있는데, 그 중에서 <code>Accessible</code>한 것들, 즉 관리하는 값(Model)에 대한 접근을 class로 묶어서 객체를 반환하도록 한 것이다.
이 객체로 데이터만 접근할 수 있는 것이라면 재미가 없다. 재밌는 것은 이 Context의 값이 변화하면 여기서도 <code>PropertyChangeEvent</code>가 발생한다는 것이다.</p>

<p>즉, 이 Context 객체에 <code>PropertyChangeListener</code>를 걸면 해당 Component의 값(Model)의 변화를 감지할 수 있고, 이것은 <strong>두 Component의 Data Binding을 쉽게 해줄 수 있는 요소</strong>가 된다.</p>

<ul>
<li>예를 들어 <code>JSlider</code> 객체의 <code>AccessibleContext</code>를 가져와서 해당 <code>ProperyChangeEvent</code>를 Listening을 하여 <code>JTextField</code> 객체의 값으로 <code>setText()</code> 함수를 통해 지정해줄 수 있다는 것이다.</li>
</ul>

<p>물론 그냥 <code>JSlider</code>의 <code>ChangeListener</code>를 걸어서 처리할 수도 있지만, 요는 추상화를 통한 다형성, 즉 모든 <code>JComponent</code>에 대해 동일한 방법을 제공한다는 것이다. (어떤 것은 <code>ActionListener</code>, 어떤 것은 <code>ItemListener</code>, 어떤 것은 <code>ChangeListener</code>, 등등이라면 각각 <code>JComponent</code>에 대해서 할 경우에는 모두 다른 Listener를 걸어주어 객체간의 Data Binding을 위한 Event 구독 관계가 복잡하게 꼬일 것이다.)</p>

<p>정리하면 다음과 같다.</p>

<ul>
<li>각 <code>JComponent</code>는 자신의 데이터를 접근할 수 있는 Context class를 모든 <code>Component</code>에 대해 추상화해놓은 <code>AccessibleContext</code>를 구현하여 반환할 수 있고,</li>
<li>이 객체의 <code>PropertyChangeEvent</code>를 Listener하면 Data Binding을 수행할 수 있다.</li>
</ul>

<p>요즘 같이 데이터가 많아진 시대에 데이터 중심의 코딩이 예전보다 중요해졌다. 고로 Data Binding 기술에 대한 이야기가 여기저기서 많이 나오고 있는데(너무 나와서 이제는 안 나오나;) Java에서는 이를 구현하기 위해 이와 같은 방법을 이용할 수도 있다는 것이다.</p>

<h3>마무리</h3>

<p>쓰다보니 뭔가 재밌어져서 이것저것 쓰다보니 당초에 쓰고 싶었던 D&amp;D나 Dockable이 아래로 내려가 버렸다.<br>
그리고 의외로 <code>AccessibleContext</code>에 대해서 열변을 토해버렸는데, 그만큼 저 쪽에는 재밌는게 많다는 것이다.</p>

<p>지난 번에 잠깐 Qt를 보면서 <code>SIGNAL</code>과 <code>SLOT</code>, <code>emit</code> 등의 개념을 보면서 참 재밌게도 연결하는구나 싶었는데, <code>AccessibleContext</code>도 나름 그런 방식으로 각자 다른 Data에 대해 객체로 추상화하고, 동일하게 접근할 수 있는 <code>interface</code>를 제공해준다는 점에서 재밌다는 것이다. 물론 내공이 더 쌓이면 더 재미난 짓을 할 수 있겠지만 말이다.</p>

<p>혼자 예제도 만들고 하면서 하다보니 시간이 너무 걸려서, 일단 쓰는 걸 멈춘다.</p>

<p>추후 이어서 올릴 예정.<br>
아래는 목차</p>

<ul>
<li>Java GUI with Model, Editor, Renderer</li>
<li>Java Graphics</li>
<li>Drag and Drop, Dockable or Floatable</li>
<li>Java GUI with Reflection</li>
<li>Look and Feel</li>
</ul>

				</div>

				<div class="pure-g page-navigator">
					<div class="pure-u-1-2">
					
						<a href="/2008/12/25/eclipse-with-subversive/" title="eclipse + subversive">&laquo; eclipse + subversive</a>
					
					</div>
					<div class="pure-u-1-2 text-right">
					
						<a href="/2009/01/04/Java-Graphics-AffineTransform-and-JScrollPane/" title="Java Graphics와 AffineTransform, 그리고 JScrollPane">&raquo; Java Graphics와 AffineTransform, 그리고 JScrollPane</a>
					
					</div>
				</div>

				<!-- the comments -->
				<div id="disqus_container">
					<div id="disqus_thread"></div>
					<script type="text/javascript">
						var disqus_shortname = 'lacti';
						(function() {
							var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
							dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
							(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
						})();
					</script>
					<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
					<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
				</div>
			</div>
		</div>

		
		<footer>
			<hr />
			<div id="footer-menu">
				<a href="#top" title="go to top"><i class="fa fa-chevron-up fa-lg"></i></a>
				<div class="mobile-only">
					<a href="/" title="home"><i class="fa fa-home fa-lg"></i></a>
					<a href="/about/" title="about"><i class="fa fa-male fa-lg"></i></a>
					<a href="/archives/" title="archives"><i class="fa fa-file-text-o fa-lg"></i></a>
					<a href="/tags/" title="tags"><i class="fa fa-tags fa-lg"></i></a>
					<a href="https://github.com/lacti" title="github" rel="nofollow"><i class="fa fa-github fa-lg"></i></a>
					<a href="https://twitter.com/lacti" title="twitter" rel="nofollow"><i class="fa fa-twitter fa-lg"></i></a>
					<a href="http://www.slideshare.net/lactrious/presentations" title="slideshare" rel="nofollow"><i class="fa fa-toggle-right fa-lg"></i></a>
					<a href="http://www.linkedin.com/pub/jaeyoung-choi/99/243/861" title="linkedin" rel="nofollow"><i class="fa fa-linkedin fa-lg"></i></a>
					<a href="https://facebook.com/lactrious" title="facebook" rel="nofollow"><i class="fa fa-facebook fa-lg"></i></a>
					<a href="/atom.xml" title="atom"><i class="fa fa-rss fa-lg"></i></a>
				</div>
			</div>
			<p class="text-right">
				<em>© 2008-2015 Jaeyoung Choi</em>
			</p>
		</footer>
	</div>
	<!-- /.container -->
	<!-- ga -->
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-51932355-1', 'lacti.me');
		ga('send', 'pageview');
	</script>
</body>
</html>
