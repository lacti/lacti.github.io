{"componentChunkName":"component---src-templates-page-tsx","path":"/2008/07/28/ConsoleHandler-System-in-out-error-closing/","webpackCompilationHash":"5db5254ab231d8fbde9d","result":{"data":{"site":{"siteMetadata":{"title":"Lacti's Archive","description":"All about I learned","author":{"name":"Jaeyoung, Choi","url":"https://twitter.com/lacti"}}},"markdownRemark":{"html":"<p><code>java.util.logging</code>의 Logger 쓰는 맛을 들이고 있는데\n어느 순간부터 Exception이 나오지를 않는 것이다.</p>\n<p>찾아보니까 알게 된 사실</p>\n<ul>\n<li>Exception이 빨간 글씨로 나오는게 싫어서 <code>ConsoleHandler</code>의 OutputStream을 <code>System.out</code>으로 설정하려고 했다.</li>\n<li>근데 이상하게도 setOutputStream이 protected이더라.</li>\n<li>그래서 당당히 <code>ConsoleHandler</code>를 상속받아 <code>setOutputStream</code>을 <code>System.out</code>으로 설정해주었다.</li>\n</ul>\n<p>이게 문제였다.</p>\n<ul>\n<li><code>setOutputStream</code>은 OutputStream이 변경될 때 기존에 설정된 OutputStream을 닫는다. (<code>flushAndClose()</code>)</li>\n<li>덕분에 기존에 설정된 OutputStream인 <code>System.err</code>이 닫힌다</li>\n<li>그래서 <code>System.err</code>로 출력될 Exception들이 하나도 안 나오는것.</li>\n</ul>\n<p>왜 <code>setOutputStream</code>을 protected로 숨겨놨나 했더니.\n결국 방법은 ConsoleHandler 복사해서 <code>setOutputStream</code>을 <code>System.out</code>으로 바로 설정시키는 방법 뿐.</p>\n<p>그런데 이것도 실수로 닫아버리면 아무런 메시지도 출력 안되는 것인가(…)</p>\n<hr>\n<p>어쩐지 전에 Scanner에 <code>System.in</code> 넣어서 쓸 때 <code>Scanner</code> 객체 두 번 만들어서 쓰면 두 번째 Scanner 객체에서 키보드 입력을 못 받더니 같은 이유이다.</p>\n<p>할당한 것은 해제해주어야 하고, 연 것은 반드시 닫아야한다는 신조를 갖은 나는 <code>Scanner</code>에 <code>System.in</code> 넣어서 쓰고 닫고, 다음에 또 <code>Scanner</code>에 <code>System.in</code> 객체를 만들면\n이미 닫혀져버린 <code>System.in</code>으로 입력을 받을 수 없기 때문이다.</p>\n<p><a href=\"https://forums.sun.com/thread.jspa?threadID=5232911&#x26;messageID=9952697\">구글에서 찾은 Java쪽 Thread</a>인데, 왜 진작 찾아볼 생각을 안 했을까. 뭐라고 검색해야 할지 몰라서 키워드를 찾는데 한참 걸렸으니까.</p>","excerpt":"java.util.logging의 Logger 쓰는 맛을 들이고 있는데\n어느 순간부터 Exception이 나오지를 않는 것이다.찾아보니까 알게 된 사실Exception이 빨간 글씨로 나오는게 싫어서 ConsoleHandler의 OutputStream…","fields":{"date":"July 28, 2008"},"frontmatter":{"title":"ConsoleHandler와 System.in/out/error의 closing","tags":["java"]}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/2008/07/28/ConsoleHandler-System-in-out-error-closing/"}}}